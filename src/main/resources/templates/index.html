<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>검색어 자동완성 시스템</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <!-- 헤더 -->
    <header class="header">
        <h1 class="logo">🔍 검색</h1>
        <p class="subtitle">실시간 검색어 자동완성</p>
    </header>

    <!-- 검색 영역 -->
    <div class="search-section">
        <div class="search-container">
            <input
                    type="text"
                    id="searchInput"
                    class="search-input"
                    placeholder="검색어를 입력하세요..."
                    autocomplete="off"
            >
            <button id="searchButton" class="search-button">검색</button>

            <!-- 자동완성 드롭다운 -->
            <div id="suggestionBox" class="suggestion-box hidden">
                <ul id="suggestionList" class="suggestion-list"></ul>
            </div>
        </div>
    </div>

    <!-- 인기 검색어 -->
    <div class="popular-section">
        <h2 class="section-title">🔥 인기 검색어</h2>
        <div class="popular-grid">
            <div th:each="entry, stat : ${popularQueries}" class="popular-item">
                <span class="popular-rank" th:text="${stat.count}">1</span>
                <span class="popular-query" th:text="${entry.key}">검색어</span>
                <span class="popular-count" th:text="${entry.value + '회'}">100회</span>
            </div>
        </div>
    </div>

    <!-- 검색 통계 -->
    <div class="stats-section">
        <h2 class="section-title">📊 실시간 통계</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalSearches">0</div>
                <div class="stat-label">총 검색 횟수</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="todaySearches">0</div>
                <div class="stat-label">오늘 검색 횟수</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="cachedQueries">0</div>
                <div class="stat-label">캐시된 쿼리</div>
            </div>
        </div>
    </div>

    <!-- 검색 히스토리 -->
    <div class="history-section">
        <h2 class="section-title">⏱️ 최근 검색</h2>
        <div id="searchHistory" class="history-list">
            <p class="empty-message">최근 검색 기록이 없습니다</p>
        </div>
    </div>

    <!-- 푸터 -->
    <footer class="footer">
        <p>🚀 대규모 시스템 설계 기초 - 검색어 자동완성 시스템</p>
        <p class="tech-stack">Java 21 · Spring Boot · Redis · Trie · Docker</p>
    </footer>
</div>

<script th:src="@{/js/app.js}"></script>
</body>
</html>